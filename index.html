<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng Tóm Tắt Kỹ Thuật Launcher</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
        }
        .card-glow {
            position: relative;
            overflow: hidden;
        }
        .card-glow::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: linear-gradient(115deg, transparent 20%, rgba(255, 255, 255, 0.2) 50%, transparent 80%);
            transition: transform 0.7s ease-in-out;
            transform: translateX(-100%);
            pointer-events: none;
        }
        .card-glow:hover::before {
            transform: translateX(100%);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), padding 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 0 1.5rem;
            /* === FIX: Thêm thuộc tính word-wrap để xử lý chữ bị mất === */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        .accordion-item.active .accordion-content {
            padding: 1rem 1.5rem 1.5rem;
        }
        .accordion-item.active .accordion-arrow {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="bg-[#111827] text-gray-200 p-4 sm:p-8">
    <div class="container mx-auto max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3">
                Phân Tích Hệ Thống Launcher
            </h1>
            <p class="text-lg text-gray-400">
                Tổng quan các chức năng, cơ chế hoạt động và những điểm tối ưu nổi bật.
            </p>
        </div>

        <!-- Grid of Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">

            <!-- Card 1: Cài đặt & Sửa lỗi -->
            <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 flex flex-col hover:border-orange-400 transition-all duration-300 card-glow">
                <div class="flex-shrink-0 w-12 h-12 rounded-lg bg-orange-500/10 border border-orange-500/30 flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">Cài Đặt & Sửa Lỗi</h3>
                <p class="text-gray-400 text-sm mb-4 flex-grow">
                    Tải về các file game cần thiết. Nếu quá trình tải bị lỗi hoặc gián đoạn, hệ thống có thể tiếp tục hoặc sửa các file bị hỏng một cách thông minh.
                </p>
                <div class="mt-auto bg-gray-900/50 rounded-lg p-3">
                    <p class="text-xs text-gray-400 mb-1 font-semibold">CƠ CHẾ HOẠT ĐỘNG</p>
                    <p class="text-sm text-gray-200">
                        <span class="text-orange-400 font-semibold">Tải song song</span> nhiều file cùng lúc để tối đa tốc độ. Tự động thử lại nếu kết nối mạng chập chờn.
                    </p>
                </div>
            </div>

            <!-- Card 2: Kiểm tra File -->
            <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 flex flex-col hover:border-cyan-400 transition-all duration-300 card-glow">
                <div class="flex-shrink-0 w-12 h-12 rounded-lg bg-cyan-500/10 border border-cyan-500/30 flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">Kiểm Tra Toàn Vẹn</h3>
                <p class="text-gray-400 text-sm mb-4 flex-grow">
                    Trước khi vào game, hệ thống sẽ quét và đảm bảo các file game là phiên bản gốc, không bị chỉnh sửa, đồng thời phát hiện các file lạ (gian lận).
                </p>
                <div class="mt-auto bg-gray-900/50 rounded-lg p-3">
                    <p class="text-xs text-gray-400 mb-1 font-semibold">CƠ CHẾ HOẠT ĐỘNG</p>
                    <p class="text-sm text-gray-200">
                        Sử dụng <span class="text-cyan-400 font-semibold">"Smart Verify"</span> - kiểm tra file thông qua cache. Chỉ quét sâu những file đã thay đổi, giúp quá trình kiểm tra cực nhanh.
                    </p>
                </div>
            </div>

            <!-- Card 3: Bảo mật -->
            <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 flex flex-col hover:border-red-400 transition-all duration-300 card-glow">
                <div class="flex-shrink-0 w-12 h-12 rounded-lg bg-red-500/10 border border-red-500/30 flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6.364-3.636l-1.414 1.414M21 12h-2M4 12H2m15.636-6.364l-1.414-1.414M6.364 6.364L4.95 4.95M12 3v2m0 14v2m-6.364-3.636l1.414-1.414M19.05 19.05l-1.414-1.414" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">An Toàn & Bảo Mật</h3>
                <p class="text-gray-400 text-sm mb-4 flex-grow">
                    Kiến trúc của launcher được thiết kế để hạn chế tối đa các rủi ro. Mọi hành động nhạy cảm đều được xử lý an toàn ở phía backend.
                </p>
                <div class="mt-auto bg-gray-900/50 rounded-lg p-3">
                    <p class="text-xs text-gray-400 mb-1 font-semibold">CƠ CHẾ HOẠT ĐỘNG</p>
                    <p class="text-sm text-gray-200">
                        Áp dụng nguyên tắc <span class="text-red-400 font-semibold">"Đặc quyền tối thiểu"</span>. Giao diện người dùng không được phép tự ý chạy file, mà phải gửi yêu cầu cho backend.
                    </p>
                </div>
            </div>
        </div>

        <!-- NEW SECTION: Detailed List -->
        <div class="mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl sm:text-4xl font-bold text-white mb-3">
                    Phân Tích Kỹ Thuật Chi Tiết
                </h2>
                <p class="text-lg text-gray-400">
                    Click vào từng tính năng để khám phá sâu hơn về phương thức và cách tối ưu hóa.
                </p>
            </div>

            <div class="max-w-4xl mx-auto space-y-4" id="accordion-container">
                <!-- Accordion Item 1 -->
                <div class="accordion-item bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden transition-all duration-300">
                    <button class="accordion-header w-full flex justify-between items-center text-left p-4 hover:bg-gray-700/50 transition-colors">
                        <span class="text-lg font-semibold text-white">Tải & Sửa File Đa Luồng</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="accordion-arrow h-6 w-6 text-gray-400 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="accordion-content">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-emerald-400 mb-2">Phương thức & Thuật toán</h4>
                                <p class="text-sm text-gray-300">Sử dụng `futures::stream` và `buffer_unordered` trong Rust để tạo một hàng đợi tải file song song. Kết hợp cơ chế "Exponential Backoff" để tự động thử lại khi gặp lỗi mạng tạm thời.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-indigo-400 mb-2">Tối ưu hóa</h4>
                                <p class="text-sm text-gray-300">Tải đồng thời 10 file cùng lúc giúp tận dụng tối đa băng thông, giảm đáng kể thời gian chờ. Cơ chế thử lại giúp quá trình tải ổn định và tự động vượt qua các sự cố nhỏ.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Accordion Item 2 -->
                <div class="accordion-item bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden transition-all duration-300">
                    <button class="accordion-header w-full flex justify-between items-center text-left p-4 hover:bg-gray-700/50 transition-colors">
                        <span class="text-lg font-semibold text-white">Kiểm Tra File Thông Minh (Smart Verify)</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="accordion-arrow h-6 w-6 text-gray-400 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="accordion-content">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-emerald-400 mb-2">Phương thức & Thuật toán</h4>
                                <p class="text-sm text-gray-300">So sánh metadata (kích thước, ngày sửa đổi) của file với dữ liệu trong `integrity-cache.json`. Nếu khớp, bỏ qua việc hash. Nếu không, tính toán hash SHA-256 của file và so sánh với manifest.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-indigo-400 mb-2">Tối ưu hóa</h4>
                                <p class="text-sm text-gray-300">Giảm thiểu tối đa việc đọc và hash toàn bộ các file. Điều này giúp quá trình kiểm tra từ lần thứ hai trở đi diễn ra gần như tức thì, cải thiện trải nghiệm người dùng một cách vượt trội.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Accordion Item 3 -->
                <div class="accordion-item bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden transition-all duration-300">
                    <button class="accordion-header w-full flex justify-between items-center text-left p-4 hover:bg-gray-700/50 transition-colors">
                        <span class="text-lg font-semibold text-white">Quản Lý Cấu Hình An Toàn</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="accordion-arrow h-6 w-6 text-gray-400 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="accordion-content">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-emerald-400 mb-2">Phương thức & Thuật toán</h4>
                                <p class="text-sm text-gray-300">Áp dụng quy trình "Atomic Write": 1. Ghi vào file `.tmp`. 2. Đổi tên file cũ thành `.bak`. 3. Đổi tên file `.tmp` thành file chính. Quản lý trạng thái tập trung bằng Pinia ở frontend.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-indigo-400 mb-2">Tối ưu hóa</h4>
                                <p class="text-sm text-gray-300">Chống mất hoặc hỏng dữ liệu cấu hình, kể cả khi ứng dụng bị tắt đột ngột. Điều này đảm bảo launcher luôn ở trạng thái ổn định và đáng tin cậy cho người dùng.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Accordion Item 4 -->
                <div class="accordion-item bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden transition-all duration-300">
                    <button class="accordion-header w-full flex justify-between items-center text-left p-4 hover:bg-gray-700/50 transition-colors">
                        <span class="text-lg font-semibold text-white">Tối Ưu Hiệu Năng Giao Diện</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="accordion-arrow h-6 w-6 text-gray-400 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="accordion-content">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-emerald-400 mb-2">Phương thức & Thuật toán</h4>
                                <p class="text-sm text-gray-300">Sử dụng `defineAsyncComponent` của Vue 3 để áp dụng kỹ thuật "Code-Splitting". Các component popup được tách thành các file JavaScript riêng biệt.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-indigo-400 mb-2">Tối ưu hóa</h4>
                                <p class="text-sm text-gray-300">"Lazy Loading" - Chỉ tải code của một component khi nó thực sự cần được hiển thị. Điều này giúp giảm kích thước gói tải ban đầu, giúp ứng dụng khởi động nhanh hơn đáng kể.</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const accordionContainer = document.getElementById('accordion-container');
            if(accordionContainer) {
                accordionContainer.addEventListener('click', (event) => {
                    const header = event.target.closest('.accordion-header');
                    if (!header) return;

                    const item = header.parentElement;
                    const content = header.nextElementSibling;

                    // Close other active items
                    const allItems = accordionContainer.querySelectorAll('.accordion-item');
                    allItems.forEach(otherItem => {
                        if (otherItem !== item && otherItem.classList.contains('active')) {
                            otherItem.classList.remove('active');
                            const otherContent = otherItem.querySelector('.accordion-content');
                            otherContent.style.maxHeight = null;
                        }
                    });

                    // Toggle current item
                    item.classList.toggle('active');
                    if (item.classList.contains('active')) {
                        content.style.maxHeight = content.scrollHeight + "px";
                    } else {
                        content.style.maxHeight = null;
                    }
                });
            }
        });
    </script>
</body>
</html>
